{%  load i18n %}
{% include "partials/header.html" %}
{% include "components/banner.html" %}

    <main class="wrapper">
      {% include "partials/sidemenu.html" with active_tab="home" %}

      <div class="content">
        
        <div class="aside">
          <h1 class="page-title">Matches</h1>
        </div>

        <div class="aside">
          <span class="matches">Samlede antal: {{ page_obj.paginator.count }}</span>
        </div>

        {% include "components/filters.html" %}

        {% if page_obj.paginator.count == 0 %}
          <span class="datatable-none-matches">
            {% trans "No matches were found" %}
          </span>
        {% else %}
          {% include "components/hits.html" %}
        {% endif %}

      </div>

    </main>

    {% include "partials/scripts.html" %}
    <script>

        var formData = document.querySelector("#filter_form")
        
        var wsStart = window.location.protocol == 'https:' ? 'wss://' : 'ws://'
        var endpoint = wsStart + window.location.host + window.location.pathname
        
        var socket = new WebSocket(endpoint)

        // socket.onmessage = function(e) {
        //   console.log("Received a message from the socket:", e.data);
        
        // };

        // socket.onopen = function(e) {
        //   console.log("Socket connected; sending a ping");
        //   socket.send("echo");
            
        // };

        // socket.onclose = function(e) {
        //     console.error("close", e);
        // };

        socket.onmessage = function(e){
            console.log("message", e);
        };
        socket.onopen = function(e){
            console.log("open", e);
        };
        socket.onerror = function(e){
            console.log("error", e)
        };
        socket.onclose = function(e){
            console.log("close", e)
        };

    </script>

</body>
</html>